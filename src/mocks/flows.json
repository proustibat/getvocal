[
  {
    "id": "flow-bar-stock",
    "name": "Beer Keg Stock Assistant",
    "description": "Helps a bar manager check keg levels and decide whether to reorder.",
    "steps": [
      {
        "id": "bar-step-1",
        "label": "Welcome",
        "type": "message",
        "content": "# GetVocal Flow Designer\n\nA small prototype for the GetVocal.ai flow builder take-home. It lets you browse flows, open a flow to view its steps, and add, edit or remove steps with lightweight persistence.\n\n## Prerequisites\n- **Node.js & npm**: Install a recent Node.js LTS release, which also ships with npm. See [nodejs.org](https://nodejs.org/) for installers and docs, and [docs.npmjs.com/downloading-and-installing-node-js-and-npm](https://docs.npmjs.com/downloading-and-installing-node-js-and-npm) for npm specifics.\n- **nvm (recommended)**: A `.nvmrc` file pins the project to Node `v20.19.6`. Install [nvm](https://github.com/nvm-sh/nvm) and run `nvm use` in the repository root to automatically switch to the correct runtime.\n\n## Installation\n1. Clone the repository and move into it:\n   ```bash\n   git clone git@github.com:proustibat/getvocal.git\n   cd getvocal\n   ```\n2. (Optional but recommended) align your Node version with nvm:\n   ```bash\n   nvm use\n   ```\n3. Install dependencies:\n   ```bash\n   npm install\n   ```\n\n## Development\n### Start the Vite dev server:\n  ```bash\n  npm run dev\n  ```\n  The app runs at `http://localhost:5173` by default.\n\n\n### Other scripts\n- `npm run build` bundles the app for production (TypeScript project references run first).\n- `npm run preview` serves the production build locally for a quick smoke test.\n- `npm run lint` runs ESLint across the repo.\n\n\n## Tests\n- Automated tests are not written yet. When Vitest is added, they can be run with `npx vitest` (or a dedicated npm script) from the project root.\n\n## Architectural decisions\n- **Folder layout**: UI atoms and shared form elements live under `src/components/ui`, composable flow-specific pieces (e.g., `StepForm`) sit in `src/components`, feature logic and API facades are grouped under `src/features/flows`, and context/state lives in `src/context`, keeping concerns separated while keeping the surface small.\n- **UI primitives**: Reusable UI atoms (cards, buttons, form inputs/selects/textareas, modal dialog) keep page components lean. Markdown rendering (`react-markdown`) formats step content for quick readability.\n- **Routing**: `react-router-dom` defines the flows list (`/`) and flow details (`/flow/:id`) routes.\n- **API simulation**: `src/features/flows/api.ts` returns mocked flow data from `mocks/flows.json` and waits briefly to mimic network latency, while `useFlowsQuery` wraps that call in React Query to expose loading/error states as if it were a real server round trip.\n- **Persistence and resets**: `FlowProvider` hydrates from `localStorage` first, then seeds with the mocked flows on initial fetch. Any edits/creates/deletes write back to `localStorage`, so clearing `localStorage` restores the original mocked flows if you want a clean slate.\n- **Forms**: `react-hook-form` powers the step creation/edit form components for minimal boilerplate and built-in validation messaging.\n\n## Tradeoffs and next steps\n- **Step ordering**: Reordering is not implemented yet; the next step is to add drag-and-drop or up/down controls (e.g., via `@dnd-kit`) and persist the new order.\n- **Deletions**: Steps delete immediately with no confirmation; a lightweight alert or modal should gate the action.\n- **Flow discovery**: The flows list only supports a favorites toggle; adding text search/filtering would make navigation faster.\n- **Modal UX**: Modals only close via the dedicated control; they should also close on outside clicks or Escape and improve focus/animation polish.\n- **Validation**: Only `react-hook-form` required rules are active; wiring Zod schemas would tighten validation and error messaging.\n- **Visualization**: The flow is linear; experimenting with `@xyflow/react` could make relationships clearer.\n- **Tests**: Vitest + React Testing Library are not configured yet; bringing them in would let me cover the flows context, form behaviors, and critical UI paths.\n- **Error management**: add a custom 404, catch /flows/<bad-id> and add a custom ErrorBoundary or errorElement on routes\n- **UX improvement**: allow to collapse content onna step because when it'stoo long it's not a good experience to see every steps"
      },
      {
        "id": "bar-step-2",
        "label": "Ask IPA level",
        "type": "question",
        "content": "What is the current level of your IPA keg (in %)?"
      },
      {
        "id": "bar-step-3",
        "label": "IPA decision",
        "type": "decision",
        "content": "If level < 20%, suggest reordering a new IPA keg. Otherwise, continue to check other products."
      },
      {
        "id": "bar-step-4",
        "label": "Suggest IPA reorder",
        "type": "message",
        "content": "I recommend ordering a new IPA keg."
      },
      {
        "id": "bar-step-5",
        "label": "Confirm order",
        "type": "question",
        "content": "Do you want me to create the IPA order now? (yes/no)"
      },
      {
        "id": "bar-step-6",
        "label": "Order decision",
        "type": "decision",
        "content": "If answer is 'yes', confirm the order. If 'no', end the flow."
      },
      {
        "id": "bar-step-7",
        "label": "End",
        "type": "message",
        "content": "Got it, thank you! Come back anytime to check your stock."
      }
    ]
  },
  {
    "id": "flow-medical-orientation",
    "name": "Medical Orientation Assistant",
    "description": "Helps users understand which specialist they should see based on pain location.",
    "steps": [
      {
        "id": "med-step-1",
        "label": "Intro",
        "type": "message",
        "content": "Hello, I’ll help you understand which specialist you should consult."
      },
      {
        "id": "med-step-2",
        "label": "Ask pain area",
        "type": "question",
        "content": "Where do you feel pain? (head / chest / stomach / joints)"
      },
      {
        "id": "med-step-3",
        "label": "Orientation decision",
        "type": "decision",
        "content": "If head → neurologist, if chest → cardiologist, if stomach → gastroenterologist, if joints → rheumatologist."
      },
      {
        "id": "med-step-4",
        "label": "Head advice",
        "type": "message",
        "content": "Based on your symptoms, you should consider consulting a neurologist."
      },
      {
        "id": "med-step-5",
        "label": "Chest advice",
        "type": "message",
        "content": "Based on your symptoms, you should consider consulting a cardiologist."
      },
      {
        "id": "med-step-6",
        "label": "Stomach advice",
        "type": "message",
        "content": "Based on your symptoms, you should consider consulting a gastroenterologist."
      },
      {
        "id": "med-step-7",
        "label": "Joints advice",
        "type": "message",
        "content": "Based on your symptoms, you should consider consulting a rheumatologist."
      },
      {
        "id": "med-step-8",
        "label": "Outro",
        "type": "message",
        "content": "# GetVocal Flow Designer\n\nA small prototype for the GetVocal.ai flow builder take-home. It lets you browse flows, open a flow to view its steps, and add, edit or remove steps with lightweight persistence.\n\n## Prerequisites\n- **Node.js & npm**: Install a recent Node.js LTS release, which also ships with npm. See [nodejs.org](https://nodejs.org/) for installers and docs, and [docs.npmjs.com/downloading-and-installing-node-js-and-npm](https://docs.npmjs.com/downloading-and-installing-node-js-and-npm) for npm specifics.\n- **nvm (recommended)**: A `.nvmrc` file pins the project to Node `v20.19.6`. Install [nvm](https://github.com/nvm-sh/nvm) and run `nvm use` in the repository root to automatically switch to the correct runtime.\n\n## Installation\n1. Clone the repository and move into it:\n   ```bash\n   git clone git@github.com:proustibat/getvocal.git\n   cd getvocal\n   ```\n2. (Optional but recommended) align your Node version with nvm:\n   ```bash\n   nvm use\n   ```\n3. Install dependencies:\n   ```bash\n   npm install\n   ```\n\n## Development\n### Start the Vite dev server:\n  ```bash\n  npm run dev\n  ```\n  The app runs at `http://localhost:5173` by default.\n\n\n### Other scripts\n- `npm run build` bundles the app for production (TypeScript project references run first).\n- `npm run preview` serves the production build locally for a quick smoke test.\n- `npm run lint` runs ESLint across the repo.\n\n\n## Tests\n- Automated tests are not written yet. When Vitest is added, they can be run with `npx vitest` (or a dedicated npm script) from the project root.\n\n## Architectural decisions\n- **Folder layout**: UI atoms and shared form elements live under `src/components/ui`, composable flow-specific pieces (e.g., `StepForm`) sit in `src/components`, feature logic and API facades are grouped under `src/features/flows`, and context/state lives in `src/context`, keeping concerns separated while keeping the surface small.\n- **UI primitives**: Reusable UI atoms (cards, buttons, form inputs/selects/textareas, modal dialog) keep page components lean. Markdown rendering (`react-markdown`) formats step content for quick readability.\n- **Routing**: `react-router-dom` defines the flows list (`/`) and flow details (`/flow/:id`) routes.\n- **API simulation**: `src/features/flows/api.ts` returns mocked flow data from `mocks/flows.json` and waits briefly to mimic network latency, while `useFlowsQuery` wraps that call in React Query to expose loading/error states as if it were a real server round trip.\n- **Persistence and resets**: `FlowProvider` hydrates from `localStorage` first, then seeds with the mocked flows on initial fetch. Any edits/creates/deletes write back to `localStorage`, so clearing `localStorage` restores the original mocked flows if you want a clean slate.\n- **Forms**: `react-hook-form` powers the step creation/edit form components for minimal boilerplate and built-in validation messaging.\n\n## Tradeoffs and next steps\n- **Step ordering**: Reordering is not implemented yet; the next step is to add drag-and-drop or up/down controls (e.g., via `@dnd-kit`) and persist the new order.\n- **Deletions**: Steps delete immediately with no confirmation; a lightweight alert or modal should gate the action.\n- **Flow discovery**: The flows list only supports a favorites toggle; adding text search/filtering would make navigation faster.\n- **Modal UX**: Modals only close via the dedicated control; they should also close on outside clicks or Escape and improve focus/animation polish.\n- **Validation**: Only `react-hook-form` required rules are active; wiring Zod schemas would tighten validation and error messaging.\n- **Visualization**: The flow is linear; experimenting with `@xyflow/react` could make relationships clearer.\n- **Tests**: Vitest + React Testing Library are not configured yet; bringing them in would let me cover the flows context, form behaviors, and critical UI paths.\n- **Error management**: add a custom 404, catch /flows/<bad-id> and add a custom ErrorBoundary or errorElement on routes\n- **UX improvement**: allow to collapse content onna step because when it'stoo long it's not a good experience to see every steps"
      }
    ]
  },
  {
    "id": "flow-ecommerce-returns",
    "name": "E-commerce Return Assistant",
    "description": "Guides a customer through the product return process.",
    "steps": [
      {
        "id": "eco-step-1",
        "label": "Greeting",
        "type": "message",
        "content": "Hi! I’ll help you with your product return."
      },
      {
        "id": "eco-step-2",
        "label": "Ask order number",
        "type": "question",
        "content": "Can you provide your order number?"
      },
      {
        "id": "eco-step-3",
        "label": "Ask return reason",
        "type": "question",
        "content": "What is the main reason for your return? (size / damaged / not as expected / other)"
      },
      {
        "id": "eco-step-4",
        "label": "Return decision",
        "type": "decision",
        "content": "If 'damaged', propose a replacement. Otherwise, propose a refund."
      },
      {
        "id": "eco-step-5",
        "label": "Explain next steps",
        "type": "message",
        "content": "You’ll receive a return label by email. Please pack the item securely and drop it at the nearest pickup point."
      },
      {
        "id": "eco-step-6",
        "label": "Confirm understanding",
        "type": "question",
        "content": "Do you have any questions about the return process?"
      },
      {
        "id": "eco-step-7",
        "label": "Closing",
        "type": "message",
        "content": "Thank you! We’ll process your return as soon as we receive the package."
      }
    ]
  }
]
